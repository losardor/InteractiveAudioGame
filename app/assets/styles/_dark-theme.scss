// ==========================================================================
// Dark Theme — Soundmaze Visual Identity
// Colors and typography from VISUAL_IDENTITY.md
// ==========================================================================

// --- Color Variables ---
$bg-base:             #1C1C2E;
$bg-card:             #252540;
$bg-nav:              #0F0F23;
$accent-orange:       #E8734A;
$accent-orange-hover: #D4633A;
$cta-teal:            #3CC8A0;
$cta-teal-hover:      #33B08A;
$text-primary:        #FFFFFF;
$text-secondary:      #8A8A8A;
$border-color:        #333355;
$progress-track:      #4A4A5A;

// --- Typography Variables ---
$font-display: 'Playfair Display', Georgia, serif;
$font-body:    'Inter', -apple-system, BlinkMacSystemFont, sans-serif;

// ==========================================================================
// Base Styles
// ==========================================================================

body {
  background: $bg-base;
  color: $text-primary;
  font-family: $font-body;
  min-height: 100vh;
}

h1, h2, h3, h4, h5, h6 {
  color: $text-primary;
}

a {
  color: $cta-teal;
  text-decoration: none;

  &:hover {
    color: $cta-teal-hover;
  }
}

p {
  color: $text-primary;
}

// ==========================================================================
// Semantic UI Overrides
// ==========================================================================

// --- Segments (cards / panels) ---
.ui.segment {
  background: $bg-card;
  border-color: $border-color;
  box-shadow: none;
  color: $text-primary;
}

// --- Headers ---
.ui.header {
  color: $text-primary;

  .sub.header {
    color: $text-secondary;
  }
}

.ui.dividing.header {
  border-bottom-color: $border-color;
}

.ui.hidden.divider {
  border-color: transparent;
}

// --- Buttons ---
// Default button: teal CTA per visual identity
.ui.button {
  background: $cta-teal;
  color: #fff;
  border: none;
  border-radius: 12px;

  &:hover {
    background: $cta-teal-hover;
    color: #fff;
  }

  &:focus {
    background: $cta-teal-hover;
    color: #fff;
  }
}

// Override Semantic UI's built-in teal (different shade) with our teal
.ui.teal.button {
  background: $cta-teal !important;
  color: #fff !important;

  &:hover {
    background: $cta-teal-hover !important;
  }
}

// Green button (used in book_info for Start/restart) — also teal per identity
.ui.green.button {
  background: $cta-teal !important;
  color: #fff !important;

  &:hover {
    background: $cta-teal-hover !important;
  }
}

.ui.primary.button {
  background: $cta-teal;
  color: #fff;
  border: none;

  &:hover {
    background: $cta-teal-hover;
    color: #fff;
  }
}

// --- Forms ---
.ui.form {
  input[type="text"],
  input[type="email"],
  input[type="password"],
  input[type="number"],
  input[type="url"],
  input[type="search"],
  input[type="tel"],
  textarea,
  select {
    background: $bg-card !important;
    border: 1px solid $border-color !important;
    color: $text-primary !important;

    &::placeholder {
      color: $text-secondary !important;
    }

    &:focus {
      background: $bg-card !important;
      border-color: $cta-teal !important;
      color: $text-primary !important;
    }
  }

  .field > label {
    color: $text-secondary;
  }

  .field.error input {
    background: $bg-card !important;
    border-color: #ff6b6b !important;
    color: $text-primary !important;
  }
}

// Form pointing labels (descriptions)
.ui.pointing.below.label {
  background: $bg-card;
  color: $text-secondary;
  border-color: $border-color;

  &::before {
    background: $bg-card;
    border-color: $border-color;
  }
}

// Form validation error labels
.ui.red.pointing.label {
  background: transparent !important;
  color: #ff6b6b !important;
  border-color: #ff6b6b !important;
}

// --- Checkboxes ---
.ui.checkbox label,
.ui.checkbox + label {
  color: $text-primary !important;
}

.ui.radio.checkbox label {
  color: $text-primary !important;
}

// --- Navigation ---
.ui.fixed.inverted.black.main.menu {
  background: $bg-nav !important;
  border-bottom: 1px solid $border-color;

  .item {
    color: $text-secondary;

    &:hover {
      color: $text-primary;
      background: rgba(255, 255, 255, 0.05);
    }

    &.active {
      color: $text-primary !important;
      background: rgba(255, 255, 255, 0.08) !important;
    }
  }
}

// Mobile slide-out vertical menu
.ui.fixed.vertical.fluid.menu {
  background: $bg-nav;
  border-color: $border-color;

  .item {
    color: $text-secondary !important;
    border-color: $border-color;

    &:hover {
      color: $text-primary !important;
      background: rgba(255, 255, 255, 0.05);
    }

    &.active {
      color: $text-primary !important;
      background: rgba(255, 255, 255, 0.08);
    }
  }
}

// Secondary menu (account settings sidebar)
.ui.vertical.secondary.menu {
  .item {
    color: $text-secondary;

    &:hover {
      color: $text-primary;
      background: rgba(255, 255, 255, 0.05);
    }

    &.active {
      color: $text-primary;
      background: rgba(255, 255, 255, 0.08);
    }
  }
}

// --- Flash Messages ---
.ui.message {
  background: $bg-card;
  color: $text-primary;
  border: 1px solid $border-color;
  box-shadow: none;

  .header {
    color: $text-primary;
  }

  .close.icon {
    color: $text-secondary;

    &:hover {
      color: $text-primary;
    }
  }

  .list {
    color: inherit;
  }
}

.ui.error.message {
  background: $bg-card;
  border-color: $border-color;
  border-left: 3px solid #ff6b6b;
  color: $text-primary;

  .header { color: #ff6b6b; }
}

.ui.warning.message {
  background: $bg-card;
  border-color: $border-color;
  border-left: 3px solid #f2c037;
  color: $text-primary;

  .header { color: #f2c037; }
}

.ui.info.message {
  background: $bg-card;
  border-color: $border-color;
  border-left: 3px solid $accent-orange;
  color: $text-primary;

  .header { color: $accent-orange; }
}

.ui.success.message {
  background: $bg-card;
  border-color: $border-color;
  border-left: 3px solid $cta-teal;
  color: $text-primary;

  .header { color: $cta-teal; }
}

// --- Tables ---
.ui.table {
  background: $bg-card;
  color: $text-primary;
  border-color: $border-color;

  th {
    background: $bg-nav;
    color: $text-primary !important;
    border-color: $border-color;
  }

  td {
    border-color: $border-color;
    color: $text-primary;
  }

  tr:hover {
    background: rgba(255, 255, 255, 0.03) !important;
  }
}

.ui.definition.table tr td:first-child {
  background: rgba(255, 255, 255, 0.03);
  color: $text-secondary;
}

// --- Dividers ---
.ui.divider {
  border-color: $border-color;
}

// --- Grid ---
.ui.divided.grid > .row > .column {
  box-shadow: -1px 0 0 0 $border-color;
}

.ui.stackable.divided.grid > .row > .column:first-child {
  box-shadow: none;
}

// --- Dropdowns ---
.ui.dropdown .menu {
  background: $bg-card;
  border-color: $border-color;

  > .item {
    color: $text-primary !important;
    border-color: $border-color;

    &:hover {
      background: rgba(255, 255, 255, 0.05) !important;
    }
  }
}

.ui.selection.dropdown {
  background: $bg-card;
  border-color: $border-color;
  color: $text-primary;

  .default.text {
    color: $text-secondary;
  }

  .menu > .item {
    color: $text-primary;
    border-color: $border-color;
  }
}

// --- Containers ---
.ui.container {
  color: $text-primary;
}

// Masthead (book info page)
.ui.masthead.container {
  color: $text-primary;

  p {
    color: $text-secondary;
  }
}

// --- Misc ---
#password-strength-text {
  color: $text-secondary;
}

[contenteditable] {
  color: $text-primary;
}
